# .env.local - BabyNAS Machine-Specific Configuration with Replication Settings
# Source: D:\workspace\true_nas\.env.local
# CRITICAL: This file contains sensitive credentials - NEVER commit to git!
#
# CREDENTIAL MANAGEMENT: Secrets stored in Vaultwarden at vault.isn.biz
# API access via OAuth 2.0 Client Credentials flow

# ═════════════════════════════════════════════════════════════
# VAULTWARDEN CLIENT CREDENTIALS (BABY_NAS ORGANIZATION)
# ═════════════════════════════════════════════════════════════
VAULTWARDEN_URL=https://vault.isn.biz
VAULTWARDEN_CLIENT_ID=organization.1a4d4b38-c293-4d05-aad1-f9a037483338
VAULTWARDEN_CLIENT_SECRET=lG1GNsHXEmYMnwo58eD0ahGMItdtoh
VAULTWARDEN_GRANT_TYPE=client_credentials
VAULTWARDEN_SCOPE=api.organization
VAULTWARDEN_FINGERPRINT=unzip-backless-barge-move-exclusive

# ═════════════════════════════════════════════════════════════
# ZFS REPLICATION CONFIGURATION (BabyNAS → Main NAS)
# ═════════════════════════════════════════════════════════════

# Baby NAS (Source)
BABY_NAS_IP=192.168.215.2
BABY_NAS_HOSTNAME=baby.isndotbiz.com
BABY_NAS_API_KEY=1-VkZdCiOTla5o0cs2lDBocRiTS14RIGDPchTiSVg2Hflt1AcmBzYzJiBuJLkOTI9A
BABY_NAS_INTERNAL_IP=192.168.215.2
BABY_NAS_PUBLIC_IP=192.168.215.2
BABY_NAS_USER=baby
BABY_NAS_PASSWORD=uppercut%$##
BABY_NAS_SSH_KEY=C:\Users\Jdmal\.ssh\baby-isn-biz
BABY_NAS_PORT=22
BABY_NAS_ROOT_USER=Jdmal
BABY_NAS_ROOT_USER_PASSWORD=uppercut%$##
BABY_NAS_ROOT_USER_SSH_KEY=c:\Users\Jdmal\.ssh\id_ed25519

# Main NAS Target (10.0.0.89) - FROM D:\workspace\true_nas\.env.local
MAIN_NAS_HOST=10.0.0.89
MAIN_NAS_HOSTNAME=baremetal.isn.biz
MAIN_NAS_USER=root
MAIN_NAS_PASSWORD=uppercut%$##
MAIN_NAS_INTERNAL_IP=10.0.0.89
MAIN_NAS_PUBLIC_IP=73.140.158.252

# TrueNAS API Configuration (Main NAS)
TRUENAS_HOST=10.0.0.89
TRUENAS_API_KEY=6-cdm2F3KiVSBSrfnmQsTmQNbBManyIgoLAU7tQRnMqGAJXKVNpa9uAQCL7V4YKbr9
TRUENAS_API_URL=http://10.0.0.89/api/v2.0
TRUENAS_SSH_KEY=~/.ssh/truenas_jdmal
TRUENAS_USER=jdmal
TRUENAS_PORT=22

# Storage Pools (Main NAS)
TANK_POOL=tank
BACKUP_POOL=backup
DOWNLOADS_POOL=downloads

# RAG System Sync (Main NAS Bare Metal)
TRUENAS_RAG_HOST=10.0.0.89
TRUENAS_RAG_USER=baby-nas
TRUENAS_RAG_SSH_KEY=D:\workspace\Baby_Nas\keys\baby-nas_rag-system
TRUENAS_RAG_REMOTE_PATH=/mnt/tank/rag-system

# Replication Source Datasets (BabyNAS - tank pool)
REPLICATION_SOURCE_POOL=tank
REPLICATION_SOURCE_DATASETS=tank/backups,tank/veeam,tank/wsl-backups,tank/media

# Replication Target Dataset (Main NAS)
REPLICATION_TARGET_DATASET=tank/rag-system
REPLICATION_TARGET_MOUNTPOINT=/mnt/tank/rag-system

# Replication SSH Configuration
REPLICATION_SSH_USER=baby-nas
REPLICATION_SSH_KEY=D:\workspace\Baby_Nas\keys\baby-nas_rag-system
REPLICATION_SSH_PORT=22

# Replication Schedule
REPLICATION_SCHEDULE=hourly
REPLICATION_SCHEDULE_HOURLY=true
REPLICATION_SCHEDULE_DAILY=true
REPLICATION_SCHEDULE_WEEKLY=true

# Replication Retention Policy
REPLICATION_KEEP_HOURLY=24
REPLICATION_KEEP_DAILY=7
REPLICATION_KEEP_WEEKLY=4

# Snapshot Prefix (for identification)
SNAPSHOT_PREFIX=auto-baby-nas

# Replication Options
REPLICATION_COMPRESSION=lz4
REPLICATION_DEDUP=off
REPLICATION_ENCRYPTION=off
REPLICATION_VERBOSE=false

# Bandwidth Limiting (optional, 0 = unlimited)
REPLICATION_BANDWIDTH_LIMIT=0

# Local SSH Configuration
LOCAL_SSH_KEY_PATH=%USERPROFILE%\.ssh\baby-isn-biz
LOCAL_SSH_USER=%USERNAME%

# Backup Staging Paths
BACKUP_STAGING_PATH=D:\workspace\Baby_Nas\staging
LOG_PATH=C:\Logs\baby-nas-local

# Cache and Temp Directories
CACHE_DIR=%TEMP%\baby-nas-cache
TEMP_DIR=%TEMP%\baby-nas-temp
