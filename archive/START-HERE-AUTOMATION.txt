â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                    BABYNASAUTOMATION SYSTEM - START HERE                     â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“¦ WHAT WAS CREATED
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… 7 NEW POWERSHELL SCRIPTS (Ready to Use)
  1. MASTER-SETUP.ps1              - Full end-to-end automation
  2. setup-wizard.ps1              - Interactive step-by-step guide
  3. diagnose-baby-nas.ps1         - Connectivity testing & troubleshooting
  4. create-api-key-ssh.ps1        - Auto-generate TrueNAS API key
  5. setup-z-drive-mapping.ps1     - Mount BabyNAS as Z: drive
  6. reduce-vm-ram.ps1             - Optimize VM memory to 8192 MB
  7. commit-to-github.ps1          - Safe GitHub sync

âœ… 4 NEW DOCUMENTATION FILES
  - README-AUTOMATION.md           - Main guide for automation system
  - SETUP-QUICKSTART.md            - Quick start guide (3 options)
  - CONFIGURATION_GUIDE.md         - Configuration reference
  - NEXT-STEPS.md                  - Detailed next steps

âœ… 5 UPDATED CONFIGURATION FILES
  - .env                          - Fixed IP, added domains
  - .env.local                    - Fixed formatting
  - .env.staging                  - Testing environment (new)
  - .env.production               - Production settings (new)
  - monitoring-config.json        - Updated with correct IP


ğŸ¯ QUICK START (CHOOSE ONE)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â•”â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•—
â”‚ OPTION 1: FULL AUTOMATION (Recommended - 5-10 minutes)                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Command:  .\MASTER-SETUP.ps1                                              â”‚
â”‚                                                                             â”‚
â”‚ What it does:                                                              â”‚
â”‚  âœ“ Tests BabyNAS connectivity                                             â”‚
â”‚  âœ“ Generates API key automatically                                        â”‚
â”‚  âœ“ Maps Z: drive                                                          â”‚
â”‚  âœ“ Reduces VM RAM to 8192 MB                                              â”‚
â”‚  âœ“ Commits to GitHub                                                      â”‚
â”‚  âœ“ Verifies everything works                                              â”‚
â”‚  âœ“ Creates detailed logs                                                  â”‚
â”‚                                                                             â”‚
â”‚ Best For: Most users who want everything done at once                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•”â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•—
â”‚ OPTION 2: INTERACTIVE WIZARD (10-15 minutes)                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Command:  .\setup-wizard.ps1                                              â”‚
â”‚                                                                             â”‚
â”‚ What it does:                                                              â”‚
â”‚  âœ“ Step-by-step guided experience                                         â”‚
â”‚  âœ“ Prompt for choices at each step                                        â”‚
â”‚  âœ“ Allow verification between steps                                       â”‚
â”‚  âœ“ Can skip or repeat individual steps                                    â”‚
â”‚                                                                             â”‚
â”‚ Best For: First-time users, learning process                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•”â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•—
â”‚ OPTION 3: MANUAL (Individual Scripts - 15-20 minutes)                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Commands:                                                                   â”‚
â”‚  1. .\diagnose-baby-nas.ps1         (Test connectivity)                   â”‚
â”‚  2. .\create-api-key-ssh.ps1        (Generate API key)                    â”‚
â”‚  3. .\setup-z-drive-mapping.ps1     (Map Z: drive)                        â”‚
â”‚  4. .\reduce-vm-ram.ps1             (Reduce VM RAM - admin required)      â”‚
â”‚  5. .\commit-to-github.ps1          (Commit to GitHub)                    â”‚
â”‚                                                                             â”‚
â”‚ Best For: Power users, troubleshooting, selective setup                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


ğŸ“‹ STEP-BY-STEP INSTRUCTIONS FOR FULL AUTOMATION
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Step 1: Open PowerShell
  â€¢ Windows 10/11: Click Start â†’ PowerShell (normal user, NOT admin yet)
  â€¢ Navigate: cd D:\workspace\Baby_Nas

Step 2: Run the Setup
  â€¢ Type: .\MASTER-SETUP.ps1
  â€¢ Press Enter
  â€¢ Watch the progress (5-10 minutes)

Step 3: Verify Results
  â€¢ Check C:\Logs\ for detailed logs
  â€¢ Test: .\quick-connectivity-check.ps1
  â€¢ Verify: Z: drive is accessible from Windows Explorer

Step 4: After Completion
  â€¢ Run: .\FULL-AUTOMATION.ps1 (to deploy actual backup automation)
  â€¢ Or:  .\monitor-baby-nas.ps1 (to watch in real-time)

That's it! ğŸ‰


ğŸ”§ TROUBLESHOOTING
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âŒ ERROR: "VM not running"
  âœ Run: Start-VM -Name "Baby-NAS"
  âœ Wait 30 seconds
  âœ Run: .\diagnose-baby-nas.ps1

âŒ ERROR: "Cannot ping 172.21.203.18"
  âœ Check Hyper-V VM is running
  âœ Run: Get-VM | Where-Object {$_.Name -like '*baby*'}
  âœ If not running, start it: Start-VM -Name "Baby-NAS"

âŒ ERROR: "Administrator privileges required"
  âœ Right-click PowerShell â†’ Run as Administrator
  âœ Navigate: cd D:\workspace\Baby_Nas
  âœ Run: .\MASTER-SETUP.ps1

âŒ ERROR: "SSH connection failed"
  âœ Run: .\diagnose-baby-nas.ps1 -Fix
  âœ Check SSH key exists: Test-Path "$env:USERPROFILE\.ssh\id_ed25519"

âŒ ERROR: "API key generation failed"
  âœ Try manual generation via web UI:
  âœ Open: https://172.21.203.18
  âœ Login â†’ System â†’ API Keys â†’ Add
  âœ Copy key and manually edit .env file


ğŸ“š DOCUMENTATION GUIDE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Start Here:
  â†’ README-AUTOMATION.md          (Main guide - READ THIS FIRST!)

Quick References:
  â†’ SETUP-QUICKSTART.md           (Quick start with 3 options)
  â†’ NEXT-STEPS.md                 (What to do after setup)

Detailed References:
  â†’ CONFIGURATION_GUIDE.md        (All configuration details)
  â†’ CLAUDE.md                     (Architecture and design)


ğŸ“Š WHAT EACH SCRIPT DOES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

MASTER-SETUP.ps1
  â€¢ Complete end-to-end orchestration
  â€¢ Runs all 6 other scripts in sequence
  â€¢ Full logging to C:\Logs\
  â€¢ Handles errors gracefully
  â€¢ Usage: .\MASTER-SETUP.ps1

diagnose-baby-nas.ps1
  â€¢ Test connectivity to BabyNAS
  â€¢ Check ping, SSH, Web UI access
  â€¢ Verify DNS resolution
  â€¢ Optional auto-fix for common issues
  â€¢ Usage: .\diagnose-baby-nas.ps1 -Fix

create-api-key-ssh.ps1
  â€¢ Generate TrueNAS API key via SSH
  â€¢ Automatically update .env file
  â€¢ Fall back to manual method if needed
  â€¢ Extract and insert key automatically
  â€¢ Usage: .\create-api-key-ssh.ps1

setup-z-drive-mapping.ps1
  â€¢ Mount BabyNAS dataset as Z: drive
  â€¢ Make persistent (survives reboot)
  â€¢ Test access immediately
  â€¢ Show directory listing
  â€¢ Usage: .\setup-z-drive-mapping.ps1

reduce-vm-ram.ps1
  â€¢ Reduce VM memory to 8192 MB
  â€¢ Safely shut down VM if needed
  â€¢ Verify change after completion
  â€¢ REQUIRES ADMINISTRATOR
  â€¢ Usage: .\reduce-vm-ram.ps1

commit-to-github.ps1
  â€¢ Stage safe files (scripts, docs)
  â€¢ PROTECT .env files (never commit)
  â€¢ Create commit with descriptive message
  â€¢ Optionally push to GitHub
  â€¢ Usage: .\commit-to-github.ps1 -Push


âœ… VERIFICATION CHECKLIST
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

After running setup, verify everything:

  â–¡ BabyNAS connectivity
    Command: Test-Connection -ComputerName 172.21.203.18
    Expected: Reply from 172.21.203.18 (response time < 10ms)

  â–¡ API key configured
    Command: cat .\env | Select-String "TRUENAS_API_KEY"
    Expected: TRUENAS_API_KEY=<64-character-hex-string>

  â–¡ Z: drive mapped
    Command: dir Z:\
    Expected: Directory listing of BabyNAS dataset

  â–¡ VM memory reduced
    Command: Get-VM "Baby-NAS" | Select Name, @{N="RAM (GB)";E={[int]($_.MemoryAssigned/1GB)}}
    Expected: 8 GB

  â–¡ Git committed
    Command: git log --oneline -3
    Expected: Recent commit about automation setup


ğŸš€ NEXT STEPS AFTER SETUP
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Once MASTER-SETUP.ps1 completes successfully:

1. Quick Connectivity Check
   .\quick-connectivity-check.ps1

2. Full System Diagnostics
   .\CHECK-SYSTEM-STATE.ps1

3. Deploy Backup Automation
   .\FULL-AUTOMATION.ps1

4. Monitor in Real-Time
   .\monitor-baby-nas.ps1

5. View Logs
   Get-ChildItem C:\Logs\ | Sort LastWriteTime -Desc | Select -First 5


ğŸ’¾ CONFIGURATION CHANGES MADE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

FIXED:
  âœ“ IP Address: 172.31.69.40 â†’ 172.21.203.18
  âœ“ Hostname: baby.isn.biz â†’ babynas.isndotbiz.com
  âœ“ .env.local: Fixed line breaks (was all on one line)

ADDED:
  âœ“ Domain name configuration
  âœ“ Public endpoints for VPN/remote access
  âœ“ Staging and production environment files
  âœ“ Local machine-specific settings

PROTECTED:
  âœ“ All .env files in .gitignore
  âœ“ Logs directory protected
  âœ“ Agent logs protected
  âœ“ No credentials in git history


âš ï¸ IMPORTANT REMINDERS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. DO NOT commit .env files to GitHub
   â€¢ They contain sensitive passwords and API keys
   â€¢ All .env files are protected in .gitignore
   â€¢ This protection cannot be disabled

2. Administrator privileges needed for:
   â€¢ VM memory reduction (reduce-vm-ram.ps1)
   â€¢ Some diagnostic features (diagnose-baby-nas.ps1 -Fix)

3. SSH key required for:
   â€¢ API key generation (create-api-key-ssh.ps1)
   â€¢ Should be at: $env:USERPROFILE\.ssh\id_ed25519

4. Backup your configuration:
   â€¢ Copy .env file to safe location
   â€¢ Keep .env.local for local machine settings
   â€¢ Keep SSH keys safe ($env:USERPROFILE\.ssh\)


ğŸ“ SUPPORT & RESOURCES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

For Help:
  â€¢ Read: README-AUTOMATION.md (comprehensive guide)
  â€¢ Read: SETUP-QUICKSTART.md (quick reference)
  â€¢ Run: .\diagnose-baby-nas.ps1 (comprehensive diagnostics)
  â€¢ Check: C:\Logs\*.log (detailed execution logs)

Common Commands:
  # View recent logs
  Get-Content C:\Logs\MASTER-SETUP-*.log | Tail -50

  # Test connectivity
  Test-Connection -ComputerName 172.21.203.18
  Test-NetConnection -ComputerName 172.21.203.18 -Port 22 -Verbose

  # Check VM status
  Get-VM "Baby-NAS" | Format-Table Name, State, @{N="RAM (GB)";E={[int]($_.MemoryAssigned/1GB)}}

  # View git history
  git log --oneline -10


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Ready to begin? Type:

    .\MASTER-SETUP.ps1

And follow the prompts!

Questions? Read README-AUTOMATION.md for complete documentation.

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
